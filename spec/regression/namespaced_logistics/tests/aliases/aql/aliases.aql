LET v_delivery1 = FIRST((
  FOR v_delivery2
  IN @@deliveries
  FILTER (v_delivery2._key == @var1)
  LIMIT @var2
  RETURN v_delivery2
))
LET v_delivery3 = FIRST((
  FOR v_delivery4
  IN @@deliveries
  FILTER (v_delivery4._key == @var3)
  LIMIT @var4
  RETURN v_delivery4
))
RETURN {
  "logistics": {
    "delivery": {
      "aDelivery": (IS_NULL(v_delivery1) ? null : {
        "nr": v_delivery1.`deliveryNumber`,
        "oneItem": v_delivery1.`items`[* FILTER (CURRENT.`itemNumber` == @var5) RETURN {
          "itemNumber": CURRENT.`itemNumber`
        }],
        "items": v_delivery1.`items`[* RETURN {
          "itemNumber": CURRENT.`itemNumber`
        }]
      }),
      "anotherDelivery": (IS_NULL(v_delivery3) ? null : {
        "nr": v_delivery3.`deliveryNumber`
      })
    }
  }
}

// Peak memory usage: 0 bytes
