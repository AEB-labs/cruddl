RETURN FIRST(
  FOR v_item1
  IN (
    FOR v_object1
    IN @var1
    RETURN (v_object1.`accessGroup` == @var2)
  )
  COLLECT AGGREGATE v_every_true1 = MAX(!v_item1)
  RETURN v_every_true1 < true
)

// --------------------------------

RETURN (
  FOR v_entity1 IN @var1
  INSERT v_entity1 IN @@files
  RETURN NEW._key
)

// --------------------------------

WITH @@files
RETURN (
  FOR v_file1
  IN (
    FOR v_id1
    IN @v_newEntityIds1
    LET v_entity1 = DOCUMENT(@@files, v_id1)
    RETURN (((v_entity1.`accessGroup` == @var1) || (v_entity1.`accessGroup` == @var2)) ? v_entity1 : null)
  )
  RETURN {
    "name": v_file1.`name`
  }
)

// --------------------------------

WITH @@files
RETURN {
  "createFiles": @v_createFiles1
}
