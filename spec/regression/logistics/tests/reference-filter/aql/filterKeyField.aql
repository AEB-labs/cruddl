RETURN {
  "allDeliveries": (
    FOR v_delivery1
    IN @@deliveries
    FILTER (v_delivery1.`destinationCountryISOCode` == @var1)
    LET v_country1 = (IS_NULL(v_delivery1.`destinationCountryISOCode`) ? null : FIRST((
      FOR v_destinationCountry1
      IN @@countries
      FILTER ((v_destinationCountry1.`isoCode` > NULL) && (v_destinationCountry1.`isoCode` == v_delivery1.`destinationCountryISOCode`))
      LIMIT @var2
      RETURN v_destinationCountry1
    )))
    RETURN {
      "deliveryNumber": v_delivery1.`deliveryNumber`,
      "destinationCountryISOCode": v_delivery1.`destinationCountryISOCode`,
      "destinationCountry": (IS_NULL(v_country1) ? null : {
        "isoCode": v_country1.`isoCode`
      })
    }
  )
}

// Peak memory usage: 65536 bytes
