RETURN (
  FOR v_currentEntity1
  IN (
    FOR v_main1
    IN @@mains
    FILTER (v_main1._key == @var1)
    LIMIT @var2
    RETURN v_main1
  )
  UPDATE v_currentEntity1
  WITH {}
  IN @@mains
  OPTIONS { mergeObjects: false }
  RETURN NEW._key
)

// --------------------------------

WITH @@dependents
RETURN DOCUMENT(@@dependents, @var1)

// --------------------------------

WITH @@dependents
RETURN DOCUMENT(@@dependents, @var1)

// --------------------------------

WITH @@dependents
RETURN (
  FOR v_to1 IN @var1
  FOR v_edge1 IN @@mains_dependents
  FILTER v_edge1._to == v_to1
  REMOVE v_edge1 IN @@mains_dependents
)

// --------------------------------

WITH @@dependents
RETURN (
  FOR v_edge1
  IN [ {_from: CONCAT(@var1, FIRST(@v_updatedIds1)), _to: @var2}, {_from: CONCAT(@var3, FIRST(@v_updatedIds1)), _to: @var4} ]
  UPSERT { _from: v_edge1._from, _to: v_edge1._to }
  INSERT v_edge1
  UPDATE {}
  IN @@mains_dependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents
RETURN DOCUMENT(@@alternativeDependents, @var1)

// --------------------------------

WITH @@dependents, @@alternativeDependents
RETURN (
  FOR v_to1 IN @var1
  FOR v_edge1 IN @@mains_alternativeDependents
  FILTER v_edge1._to == v_to1
  REMOVE v_edge1 IN @@mains_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents
RETURN (
  FOR v_edge1
  IN [ {_from: CONCAT(@var1, FIRST(@v_updatedIds1)), _to: @var2} ]
  UPSERT { _from: v_edge1._from, _to: v_edge1._to }
  INSERT v_edge1
  UPDATE {}
  IN @@mains_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
LET v_main1 = DOCUMENT(@@mains, @var1)
RETURN (IS_NULL(v_main1) ? null : {
  "key": v_main1.`key`
})

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_currentEntity1
  IN (
    FOR v_dependent1
    IN @@dependents
    FILTER (v_dependent1._key == @var1)
    LIMIT @var2
    RETURN v_dependent1
  )
  UPDATE v_currentEntity1
  WITH {}
  IN @@dependents
  OPTIONS { mergeObjects: false }
  RETURN NEW._key
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN DOCUMENT(@@alternativeDependents, @var1)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_to1 IN @var1
  FOR v_edge1 IN @@dependents_alternativeDependents
  FILTER v_edge1._to == v_to1
  REMOVE v_edge1 IN @@dependents_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_edge1
  IN [ {_from: CONCAT(@var1, FIRST(@v_updatedIds1)), _to: @var2} ]
  UPSERT { _from: v_edge1._from, _to: v_edge1._to }
  INSERT v_edge1
  UPDATE {}
  IN @@dependents_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_currentEntity1
  IN (
    FOR v_dependent1
    IN @@dependents
    FILTER (v_dependent1._key == @var1)
    LIMIT @var2
    RETURN v_dependent1
  )
  UPDATE v_currentEntity1
  WITH {}
  IN @@dependents
  OPTIONS { mergeObjects: false }
  RETURN NEW._key
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN DOCUMENT(@@alternativeDependents, @var1)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_to1 IN @var1
  FOR v_edge1 IN @@dependents_alternativeDependents
  FILTER v_edge1._to == v_to1
  REMOVE v_edge1 IN @@dependents_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_edge1
  IN [ {_from: CONCAT(@var1, FIRST(@v_updatedIds1)), _to: @var2} ]
  UPSERT { _from: v_edge1._from, _to: v_edge1._to }
  INSERT v_edge1
  UPDATE {}
  IN @@dependents_alternativeDependents
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN (
  FOR v_Dependent1
  IN [
    DOCUMENT(@@dependents, @var1),
    DOCUMENT(@@dependents, @var2)
  ]
  RETURN {
    "key": v_Dependent1.`key`
  }
)

// --------------------------------

WITH @@dependents, @@alternativeDependents, @@mains
RETURN {
  "updateMain": @v_updateMain1,
  "updateDependents": @v_updateDependents1
}
